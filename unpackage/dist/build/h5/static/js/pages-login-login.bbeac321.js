(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"094e":function(n,t,e){"use strict";e.r(t);var i=e("5d3d"),a=e("752c");for(var r in a)"default"!==r&&function(n){e.d(t,n,function(){return a[n]})}(r);e("0b83");var o=e("2877"),u=Object(o["a"])(a["default"],i["a"],i["b"],!1,null,"08ac2fda",null);t["default"]=u.exports},"0b83":function(n,t,e){"use strict";var i=e("fb1b"),a=e.n(i);a.a},"15f2":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(e("a34a"));function a(n){return n&&n.__esModule?n:{default:n}}function r(n,t,e,i,a,r,o){try{var u=n[r](o),s=u.value}catch(c){return void e(c)}u.done?t(s):Promise.resolve(s).then(i,a)}function o(n){return function(){var t=this,e=arguments;return new Promise(function(i,a){var o=n.apply(t,e);function u(n){r(o,i,a,u,s,"next",n)}function s(n){r(o,i,a,u,s,"throw",n)}u(void 0)})}}var u={data:function(){return{SessionKey:"",OpenId:"",nickName:null,avatarUrl:null,isCanUse:uni.getStorageSync("isCanUse")||!0}},methods:{register:function(){uni.switchTab({url:"/pages/login/register"})},saveCode:function(){var n=o(i.default.mark(function n(){var t;return i.default.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return t=this,uni.showLoading({title:"登录中..."}),n.next=4,uni.login({provider:"weixin",success:function(n){var e=n.code;t.mPost("/auth/wxLogin",e,"https://dy.gantangerbus.com/da").then(function(n){if(n.data){var t=n.data;uni.setStorageSync("Authorization",t.authToken)}uni.hideLoading()}).catch(function(n){uni.hideLoading()})}});case 4:case"end":return n.stop()}},n,this)}));function t(){return n.apply(this,arguments)}return t}(),getuserinfo:function(n){uni.getStorageSync("Authorization")||this.saveCode();var t=this;if(!n.detail.iv)return uni.showToast({title:"您取消了授权,登录失败",icon:"none"}),!1;uni.showLoading({}),uni.getUserInfo({provider:"weixin",success:function(n){uni.setStorageSync("userData",JSON.stringify(n.userInfo)),uni.showLoading({}),t.mPost("/auth/wxUserInfo",n.userInfo,"https://dy.gantangerbus.com/da").then(function(n){uni.navigateTo({url:"/pages/login/register"}),uni.hideLoading()}).catch(function(n){uni.hideLoading()})},fail:function(n){uni.hideLoading()}})}},onLoad:function(){this.saveCode()}};t.default=u},"5d3d":function(n,t,e){"use strict";var i=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("v-uni-view",{staticClass:"m-login-page"},[e("v-uni-view",{staticClass:"m-img-box"},[n._v("东尧蔬菜")]),e("v-uni-view",{staticClass:"describe"},[n._v("您暂未授权'东尧蔬菜'小程序获取你的信息，讲无法正常使用小程序的功能。\n\t\t如果需要正常使用，请点击\"授权\"按钮，打开头像，昵称等信息的权限")]),e("v-uni-view",{staticClass:"m-but"})],1)},a=[];e.d(t,"a",function(){return i}),e.d(t,"b",function(){return a})},"605a":function(n,t,e){t=n.exports=e("2350")(!1),t.push([n.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.split-place[data-v-08ac2fda]{height:%?100?%}.m-login-page[data-v-08ac2fda]{padding:%?30?%}.m-login-page .m-img-box[data-v-08ac2fda]{margin-top:%?200?%;height:%?200?%;text-align:center}.m-login-page .m-but[data-v-08ac2fda]{background:#44b78d;margin-top:%?30?%}.m-login-page .describe[data-v-08ac2fda]{color:#4c4c4c;font-size:%?26?%;padding:%?20?%}',""])},"752c":function(n,t,e){"use strict";e.r(t);var i=e("15f2"),a=e.n(i);for(var r in i)"default"!==r&&function(n){e.d(t,n,function(){return i[n]})}(r);t["default"]=a.a},a34a:function(n,t,e){n.exports=e("bbdd")},bbdd:function(n,t,e){var i=function(){return this||"object"===typeof self&&self}()||Function("return this")(),a=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,r=a&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,n.exports=e("96cf"),a)i.regeneratorRuntime=r;else try{delete i.regeneratorRuntime}catch(o){i.regeneratorRuntime=void 0}},fb1b:function(n,t,e){var i=e("605a");"string"===typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);var a=e("4f06").default;a("54e8e962",i,!0,{sourceMap:!1,shadowMode:!1})}}]);