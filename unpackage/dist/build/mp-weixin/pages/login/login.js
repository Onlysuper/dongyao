(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"094e":function(t,n,e){"use strict";e.r(n);var i=e("86f9"),a=e("752c");for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);e("f344");var s=e("2877"),r=Object(s["a"])(a["default"],i["a"],i["b"],!1,null,null,null);n["default"]=r.exports},"2b3f":function(t,n,e){"use strict";e("ba95");var i=o(e("b0ce")),a=o(e("094e"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(a.default))},3853:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{SessionKey:"",OpenId:"",nickName:null,avatarUrl:null,isCanUse:t.getStorageSync("isCanUse")||!0}},methods:{register:function(){t.switchTab({url:"/pages/login/register"})},saveCode:function(){var n=this;t.login({provider:"weixin",success:function(e){var i=e.code;n.mPost("/auth/wxLogin",i,"https://dy.gantangerbus.com/da").then(function(n){if(n.data){var e=n.data;t.setStorageSync("Authorization",e.authToken)}t.hideLoading()}).catch(function(n){t.hideLoading()})}})},getuserinfo:function(n){var e=this;if(!n.detail.iv)return t.showToast({title:"您取消了授权,登录失败",icon:"none"}),!1;t.showLoading({}),t.getUserInfo({provider:"weixin",success:function(n){t.setStorageSync("userData",JSON.stringify(n.userInfo)),t.showLoading({}),e.mPost("/auth/wxUserInfo",n.userInfo,"https://dy.gantangerbus.com/da").then(function(n){t.navigateTo({url:"/pages/login/register"}),t.hideLoading()}).catch(function(n){console.log(n),t.hideLoading()})},fail:function(n){t.hideLoading()}})}},onLoad:function(){this.saveCode()}};n.default=e}).call(this,e("543d")["default"])},"56a7":function(t,n,e){},"752c":function(t,n,e){"use strict";e.r(n);var i=e("3853"),a=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);n["default"]=a.a},"86f9":function(t,n,e){"use strict";var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("view",{staticClass:"m-login-page"},[e("view",{staticClass:"m-img-box"},[t._v("东尧蔬菜")]),e("view",{staticClass:"describe"},[t._v("您暂未授权'东尧蔬菜'小程序获取你的信息，讲无法正常使用小程序的功能。\n\t\t如果需要正常使用，请点击\"授权\"按钮，打开头像，昵称等信息的权限")]),e("view",{staticClass:"m-but"},[e("button",{attrs:{type:"primary","open-type":"getUserInfo",withCredentials:"true",eventid:"8ff3bae4-0"},on:{getuserinfo:t.getuserinfo}},[t._v("授权")])],1)])},a=[];e.d(n,"a",function(){return i}),e.d(n,"b",function(){return a})},f344:function(t,n,e){"use strict";var i=e("56a7"),a=e.n(i);a.a}},[["2b3f","common/runtime","common/vendor"]]]);