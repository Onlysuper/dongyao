(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/home"],{"0db1":function(t,e,i){"use strict";i.r(e);var s=i("e675"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=n.a},"15b0":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"m-pro-item"},[i("view",{staticClass:"m-img",attrs:{eventid:"ad35d264-0"},on:{tap:t.handleFn}},[i("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.rowData.pictureUrl,mode:"aspectFit"}})]),i("view",{staticClass:"m-pro"},[i("view",{staticClass:"m-title"},[t._v(t._s(t.rowData.synopsis))]),i("view",{staticClass:"m-price"},[i("view",{staticClass:"new"},[t._v(t._s(t.rowData.presentPrice))]),i("view",{staticClass:"old"},[t._v(t._s(t.rowData.originalPrice))])])])])},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},"18bd":function(t,e,i){},"2c67":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"uni-swiper-dot",props:{info:{type:Array,default:function(){return[]}},current:{info:Number,default:0},dotsStyles:{type:Object,default:function(){return{}}},mode:{type:String,default:"default"},field:{type:String,default:""}},data:function(){return{dots:{width:8,height:8,bottom:10,color:"#fff",backgroundColor:"rgba(0, 0, 0, .3)",border:"1px rgba(0, 0, 0, .3) solid",selectedBackgroundColor:"#333",selectedBorder:"1px rgba(0, 0, 0, .9) solid"}}},created:function(){"indexes"===this.mode&&(this.dots.width=20,this.dots.height=20),this.dots=Object.assign(this.dots,this.dotsStyles)},watch:{dotsStyles:function(t){this.dots=Object.assign(this.dots,this.dotsStyles)},mode:function(t){"indexes"===t?(this.dots.width=20,this.dots.height=20):(this.dots.width=8,this.dots.height=8)}}};e.default=s},3436:function(t,e,i){"use strict";var s=i("43f2"),n=i.n(s);n.a},"3e4a":function(t,e,i){"use strict";var s=i("9e5c"),n=i.n(s);n.a},"43f2":function(t,e,i){},4639:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"m-pro-item"},[i("view",{staticClass:"m-img",attrs:{eventid:"c5e88902-0"},on:{tap:t.handleFn}},[i("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.rowData.pictureUrl,mode:"aspectFit"}})]),i("view",{staticClass:"m-pro"},[i("view",{staticClass:"m-title"},[t._v(t._s(t.rowData.synopsis))]),i("view",{staticClass:"m-price"},[i("view",{staticClass:"new"},[t._v(t._s(t.rowData.presentPrice))]),i("view",{staticClass:"old"},[t._v(t._s(t.rowData.originalPrice))])])])])},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},"46b5":function(t,e,i){"use strict";i("ba95");var s=o(i("b0ce")),n=o(i("85e0"));function o(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(n.default))},"4a50":function(t,e,i){"use strict";i.r(e);var s=i("550a"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=n.a},"52fd":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=c(i("9784")),n=c(i("51bc")),o=c(i("e638")),r=c(i("5f67")),a=c(i("5989"));function c(t){return t&&t.__esModule?t:{default:t}}var l={data:function(){return{isLogin:!1,searchValue:"",afterHeaderOpacity:1,headerPosition:"fixed",headerTop:null,statusTop:null,swiperList:[],hotsellPage:1,hotProList:[],groupsellList:[],nearStoreList:[{}],current:0,mode:"long"}},components:{uniSwiperDot:s.default,mTitle:n.default,mHomePro:o.default,mHomeHotpro:r.default,mHomeStore:a.default},methods:{checkLogin:function(){var t=this;t.globelIsLogin().then(function(e){"success"==e&&(t.isLogin=!0)}).catch(function(e){t.isLogin=!1})},toSearch:function(){this.linkTo("/pages/product/productlist?search="+this.searchValue)},getBanners:function(){var t=this;this.mGet("/server/b/banners",{}).then(function(e){t.swiperList=e.data}).catch(function(t){console.log(t)})},getHotsellList:function(){var t=this;this.mPost("/server/p/hot/products",{start:this.hotsellPage,length:3}).then(function(e){if(console.log("这里"),console.log(e),e.data){var i=e.data;t.hotProList=i.list,t.hotsellPage=i.nextPage}}).catch(function(t){console.log(t)})},getGroupsellList:function(){var t=this;this.mPost("/server/p/group/products",{start:this.hotsellPage,length:500}).then(function(e){if(e.data){var i=e.data;i.list&&(t.groupsellList=i.list)}}).catch(function(t){console.log(t)})},getStoreList:function(t,e){var i=this;i.mPost("/server/s/vicinity/stores",{lng:116.206845,lat:39.762155}).then(function(t){if(t.data){var e=t.data;i.nearStoreList=e}}).catch(function(t){console.log(t)})},choseStore:function(){this.linkTo("/pages/store/list")},hotProDetail:function(t){this.linkTo("/pages/store/store?storeid="+t.storeId+"&typeid="+t.storeId)},groupProDetail:function(){this.linkTo("/pages/product/product")},storeDetail:function(t){this.linkTo("/pages/store/store?storeid="+t)},swiperChange:function(t){this.current=t.detail.current},pintuanHandle:function(){this.linkTo("/pages/groupbuy/groupbuy")},storeHandle:function(){this.linkTo("/pages/store/list")},linkTo:function(e){this.isLogin?t.navigateTo({url:e}):t.navigateTo({url:"/pages/login/login"})}},onLoad:function(){var e=this;this.checkLogin(),t.getLocation({type:"wgs84",success:function(t){e.getStoreList(t.longitude,t.latitude)}}),this.getBanners(),this.getHotsellList(),this.getGroupsellList()},onPullDownRefresh:function(){t.stopPullDownRefresh()}};e.default=l}).call(this,i("543d")["default"])},"550a":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"m-home-pro",props:{rowData:{type:Object,default:function(){return{img:"",describel:"",price:"",oldPrice:""}}}},data:function(){return{}},methods:{handleFn:function(t){this.$emit("handleFn",this.rowData)}}};e.default=s},5989:function(t,e,i){"use strict";i.r(e);var s=i("c58f"),n=i("0db1");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("3436");var r=i("2877"),a=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},"5a67":function(t,e,i){"use strict";var s=i("18bd"),n=i.n(s);n.a},"5f67":function(t,e,i){"use strict";i.r(e);var s=i("4639"),n=i("940e");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("c2e4");var r=i("2877"),a=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},"6a40":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"m-home-pro",props:{rowData:{type:Object,default:function(){return{img:"",describel:"",price:"",oldPrice:""}}}},data:function(){return{}},methods:{handleFn:function(t){this.$emit("handleFn",this.rowData)}}};e.default=s},"85e0":function(t,e,i){"use strict";i.r(e);var s=i("b304"),n=i("ddc9");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("3e4a");var r=i("2877"),a=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},"940e":function(t,e,i){"use strict";i.r(e);var s=i("6a40"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=n.a},9784:function(t,e,i){"use strict";i.r(e);var s=i("d708"),n=i("a939");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("d96c");var r=i("2877"),a=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},"9e5c":function(t,e,i){},a939:function(t,e,i){"use strict";i.r(e);var s=i("2c67"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=n.a},b304:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",[i("view",{staticClass:"status",style:{position:t.headerPosition,top:t.statusTop,opacity:t.afterHeaderOpacity}}),i("view",{staticClass:"header",style:{position:t.headerPosition,top:t.headerTop,opacity:t.afterHeaderOpacity}},[i("view",{staticClass:"addr",attrs:{eventid:"09c88d5b-0"},on:{tap:t.choseStore}},[t._m(0),t._v("请选择门店")]),i("view",{staticClass:"input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],attrs:{placeholder:"默认关键字","placeholder-style":"color:#c0c0c0;",eventid:"09c88d5b-1"},domProps:{value:t.searchValue},on:{input:function(e){e.target.composing||(t.searchValue=e.target.value)}}}),i("image",{staticClass:"icon",staticStyle:{width:"13px",height:"100%"},attrs:{src:"../../static/img/icon/home_icon_search.png",mode:"aspectFit",eventid:"09c88d5b-2"},on:{tap:function(e){t.toSearch()}}})])]),i("view",{staticClass:"place"}),i("view",{staticClass:"swiper-box"},[i("swiper",{attrs:{circular:"true",autoplay:"true",eventid:"09c88d5b-4"},on:{change:t.swiperChange}},t._l(t.swiperList,function(e,s){return i("swiper-item",{key:e.id,attrs:{"wx:key":"swiper.id",mpcomid:"09c88d5b-0-"+s}},[i("image",{attrs:{src:e.imgUrl,eventid:"09c88d5b-3-"+s},on:{tap:function(i){t.swiperChange(e)}}})])}))],1),i("view",{staticClass:"m-container"},[i("m-title",{attrs:{title:"超值热卖",labelColor:"#666666",label:"换一换",eventid:"09c88d5b-5",mpcomid:"09c88d5b-1"},on:{titleHandle:t.getHotsellList}},[i("image",{staticStyle:{width:"30rpx",height:"20rpx","margin-right":"10rpx"},attrs:{src:"../../static/img/icon/home_icon_refresh.png",mode:"aspectFit"}})]),i("view",{staticClass:"m-content m-hotsell"},[t._l(t.hotProList,function(e,s){return[i("m-home-hotpro",{key:s,attrs:{rowData:e,eventid:"09c88d5b-6-"+s,mpcomid:"09c88d5b-2-"+s},on:{handleFn:function(i){t.hotProDetail(e)}}})]})],2)],1),i("view",{staticClass:"m-container"},[i("m-title",{attrs:{title:"今日必拼",label:"查看更多 >",eventid:"09c88d5b-7",mpcomid:"09c88d5b-4"},on:{titleHandle:t.pintuanHandle}}),i("view",{staticClass:"m-content"},[i("scroll-view",{staticClass:"scroll-view",attrs:{"scroll-x":"true","scroll-left":"120"}},[i("view",{staticClass:"m-togethoer"},[t._l(t.groupsellList,function(e,s){return[i("m-home-pro",{key:s,attrs:{rowData:e,eventid:"09c88d5b-8-"+s,mpcomid:"09c88d5b-5-"+s},on:{handleFn:t.groupProDetail}})]})],2)])],1)],1),i("view",{staticClass:"m-container"},[i("m-title",{attrs:{title:"附近门店",label:"查看全部 >",eventid:"09c88d5b-9",mpcomid:"09c88d5b-7"},on:{titleHandle:t.storeHandle}}),i("view",{staticClass:"m-content m-store"},[t._l(t.nearStoreList,function(e,s){return[i("m-home-store",{key:s,attrs:{tips:e.tips,rowData:e,eventid:"09c88d5b-10-"+s,mpcomid:"09c88d5b-8-"+s},on:{handleFn:t.storeDetail}})]})],2)],1)])},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"icon"},[i("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:"../../static/img/icon/home_icon_gps.png",mode:"aspectFit"}})])}];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},ba65:function(t,e,i){},c2e4:function(t,e,i){"use strict";var s=i("ba65"),n=i.n(s);n.a},c58f:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"m-store-item",attrs:{eventid:"36b44e7c-0"},on:{tap:t.handleFn}},[t.rowData.imgUrl?i("view",{staticClass:"m-img"},[i("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.rowData.img,mode:"aspectFit"}})]):t._e(),i("view",{staticClass:"m-text"},[i("view",{staticClass:"m-title"},[t._v(t._s(t.rowData.name))]),i("view",{staticClass:"m-discount"},[t._l(t.tips,function(e,s){return i("view",{key:s,staticClass:"m-tip"},[t._v(t._s(e))])}),t._t("tip",null,{mpcomid:"36b44e7c-0"}),t._v(t._s(t.rowData.describel))],2),i("view",{staticClass:"m-address"},[t._v(t._s(t.rowData.address))])]),i("view",{staticClass:"m-distance"},[t._v(t._s(t.rowData.fencingRange)+"km")])])},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},d524:function(t,e,i){},d708:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("view",{staticClass:"uni-swiper__warp"},[t._t("default",null,{mpcomid:"59726e80-0"}),"default"===t.mode?i("view",{staticClass:"uni-swiper__dots-box",style:{bottom:t.dots.bottom+"px"}},t._l(t.info,function(e,s){return i("view",{key:s,staticClass:"uni-swiper__dots-item",style:{width:t.dots.width+"px",height:t.dots.height+"px","background-color":s!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,border:s!==t.current?t.dots.border:t.dots.selectedBorder}})})):t._e(),"long"===t.mode?i("view",{staticClass:"uni-swiper__dots-box",style:{bottom:t.dots.bottom+"px"}},t._l(t.info,function(e,s){return i("view",{key:s,staticClass:"uni-swiper__dots-item ",class:[s===t.current&&"uni-swiper__dots-long"],style:{width:(s===t.current?3*t.dots.width:t.dots.width)+"px",height:t.dots.height+"px","background-color":s!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,border:s!==t.current?t.dots.border:t.dots.selectedBorder}})})):t._e(),"nav"===t.mode?i("view",{staticClass:"uni-swiper__dots-box uni-swiper__dots-nav",style:{"background-color":t.dotsStyles.backgroundColor}},[i("view",{staticClass:"uni-swiper__dots-nav-item",style:{color:t.dotsStyles.color}},[t._v(t._s(t.current+1+"/"+t.info.length)+"\n\t\t\t"+t._s(t.info[t.current][t.field]))])]):t._e(),"indexes"===t.mode?i("view",{staticClass:"uni-swiper__dots-box",style:{bottom:t.dots.bottom+"px"}},t._l(t.info,function(e,s){return i("view",{key:s,staticClass:"uni-swiper__dots-item uni-swiper__dots-indexes",style:{width:t.dots.width+"px",height:t.dots.height+"px",color:s===t.current?t.dots.selectedColor:t.dots.color,"background-color":s!==t.current?t.dots.backgroundColor:t.dots.selectedBackgroundColor,border:s!==t.current?t.dots.border:t.dots.selectedBorder}},[t._v(t._s(s+1))])})):t._e()],2)},n=[];i.d(e,"a",function(){return s}),i.d(e,"b",function(){return n})},d96c:function(t,e,i){"use strict";var s=i("d524"),n=i.n(s);n.a},ddc9:function(t,e,i){"use strict";i.r(e);var s=i("52fd"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,function(){return s[t]})}(o);e["default"]=n.a},e638:function(t,e,i){"use strict";i.r(e);var s=i("15b0"),n=i("4a50");for(var o in n)"default"!==o&&function(t){i.d(e,t,function(){return n[t]})}(o);i("5a67");var r=i("2877"),a=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,null,null);e["default"]=a.exports},e675:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={name:"m-home-store",props:{rowData:{type:Object,default:function(){return{}}},tips:{type:Array,default:function(){return[]}}},methods:{handleFn:function(){this.$emit("handleFn",this.rowData.id)}},data:function(){return{}}};e.default=s}},[["46b5","common/runtime","common/vendor"]]]);